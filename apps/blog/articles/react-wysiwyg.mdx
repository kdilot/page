import { Tags, Title } from '@page/blog/ui'

<Title title="React용 WYSIWYG 에디터" year={2020} />

<Tags data={['React', 'WYSIWYG', 'CRA']} />

> CRA로 구성된 프로젝트에 사용할 수 있는 에디터가 필요
>
> 웹팩 설정없이 사용 가능한 버전
>
> 이미지 업로드 기능 포함
>
> 에디터 기능을 커스텀 해서 사용할 수 있어야 함

## 프로젝트 환경

- React 프로젝트 기준 (16.x)

## 고려한 에디터

- Ckeditor5
- Draftjs
- SmartEditor2
- React-quill

### Ckeditor5

- 사용 당시 웹팩 설정이 필요해서 포기

### Draftjs

- `CRA` 에 구동 가능한 패키지 활용
- 이미지 업로드 서버(`S3`)에 연결하여 업로드
- 이미지 업로드 실패에 대한 리턴 flag가 디테일하지 않음
- 커스텀 기능 제공
- `한글` Font 입력 처리에 있어서 오류가 발생함
  - 버전 이슈인지 다른 이슈인지 해외에 여러가지 케이스 존재

### SmartEditor2

- `3.0` 버전을 도입하고 싶었으나 API 제공하지 않아서 `2.0`으로 테스트
- `JS` 버전으로 오픈소스가 있었지만 `React`에 바로 붙일 수 있는 패키지는 존재하지 않음
- 시간 여건상 테스트 하지 못함

### React-quill

- `CRA` 구동 가능한 패키지 활용
- 이미지 서버 업로드 기능을 활용하려면 웹팩 설정이 필요함
  - 에디터 상에서는 `base64`로 이미지가 업로드 됨
  - 서버에 에디터 내용을 저장하기 전에 `base64`코드를 추출해서 이미지 서버에 저장 후 치환하는 방법을 선택
- 커스텀 기능 제공

## 코멘트

- 에디터의 커스텀 기능들을 활용해봤으면 더 나은 퀄리티가 됐을 것 같은 아쉬움
- 아직까지 국내에서 쓰기 좋은 에디터는 `SmartEditor2`(3.0도 오픈소스 제공해줬으면...)
  - 한글이나 한자 이슈도 한 몫함
  - 결국 `React-quill` 에다가 `SmartEditor3` 에서 제공하는 일부 기능을 카피해서 커스텀 형태로 제작
- 웹팩 설정없이 이미지 업로드 기능을 붙이는게 편하지 않아서 아쉬움
- 다음 프로젝트에서 `에디터` 필요시 `Markdown` 방식만 사용하도록 구성해보고 싶음
